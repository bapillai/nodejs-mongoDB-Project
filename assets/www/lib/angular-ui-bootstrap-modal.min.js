angular.module("ui.bootstrap.modal",[]).constant("modalConfig",{backdrop:!0,escape:!0}).directive("modal",["$parse","modalConfig",function(a,b){var c,d=angular.element(document.getElementsByTagName("body")[0]);return{restrict:"EA",link:function(e,f,g){function l(a){27===a.which&&j()}function m(){j()}function n(){h.escape&&d.unbind("keyup",l),h.backdrop&&(c.css("display","none").removeClass("in"),c.unbind("click",m)),f.css("display","none").removeClass("in"),d.removeClass("modal-open")}function o(){h.escape&&d.bind("keyup",l),h.backdrop&&(c.css("display","block").addClass("in"),"static"!=h.backdrop&&c.bind("click",m)),f.css("display","block").addClass("in"),d.addClass("modal-open")}var j,h=angular.extend({},b,e.$eval(g.uiOptions||g.bsOptions||g.options)),i=g.modal||g.show;j=g.close?function(){e.$apply(g.close)}:function(){e.$apply(function(){a(i).assign(e,!1)})},f.addClass("modal"),h.backdrop&&!c&&(c=angular.element('<div class="modal-backdrop"></div>'),c.css("display","none"),d.append(c)),e.$watch(i,function(a,b){a?o():n()})}}}]);